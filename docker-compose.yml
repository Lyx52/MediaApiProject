version: "3.9"
services:
  mongo:
    image: mongo:latest
    restart: always
    networks:
      - app-intranet
  webapi:
    container_name: 'lbtu-media-api'
    restart: always
    build: .
    volumes:
      - ./recordings:/app/recording_files
      - ./config.yaml:/app/config.yaml:ro
    networks:
      - app-intranet
      - lbtu-conference-network
    ports:
      - "8899:8899"
networks:
  app-intranet:
    driver: bridge
  lbtu-conference-network:
    external: true